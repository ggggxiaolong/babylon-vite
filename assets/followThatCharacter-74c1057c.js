import{E as k,S,F as T,V as s,T as u,H as B,q as O,r as v,a as g,i as p,j as f,M as A,c as R,l as E,d as D,C as y,m as K,n as M}from"./babylon.inspector.bundle.max-42b26fab.js";V();function V(){const i=document.createElement("canvas");i.className="canvas",document.body.appendChild(i);const d=new k(i,!0),e=new S(d),a=new T("camera",new s(-6,0,0),e);a.radius=1,a.upperRadiusLimit=2,a.heightOffset=4,a.upperHeightOffsetLimit=8,a.rotationOffset=u.ToRadians(30),a.cameraAcceleration=.005,a.maxCameraSpeed=10,a.attachControl();const b=new B("light",new s(1,1,0),e);b.intensity=.5;const h=new O("dir01",new s(0,-1,1),e);h.position=new s(0,1,-2);const L=new v(1024,h),c=[{turn:86,dist:7},{turn:-85,dist:14.8},{turn:-93,dist:16.5},{turn:48,dist:25.5},{turn:-112,dist:30.5},{turn:-72,dist:33.2},{turn:42,dist:37.5},{turn:-98,dist:45.2},{turn:0,dist:47}];g.ImportMeshAsync("him","./meshes/Dude/","Dude.babylon",e).then(n=>{const t=n.meshes[0];t.scaling=new s(.008,.008,.008),L.addShadowCaster(t,!0),t.position=new s(-6,0,0),t.rotate(p.Y,u.ToRadians(-95),f.LOCAL);const C=t.rotationQuaternion?.clone();a.lockedTarget=t,e.beginAnimation(n.skeletons[0],0,100,!0);let l=0;const m=.01;let r=0;e.onBeforeRenderObservable.add(()=>{t.movePOV(0,0,m),l+=m,l>c[r].dist&&(t.rotate(p.Y,u.ToRadians(c[r].turn),f.LOCAL),r+=1,r%=c.length,r===0&&(l=0,t.position=s.Zero(),t.rotationQuaternion=C.clone()))})});const x=A.CreateBox("skyBox",{size:150},e),o=new R("skyBoxMat");o.backFaceCulling=!1,o.reflectionTexture=new E("./textures/skyboxCube/skybox",e),o.reflectionTexture.coordinatesMode=D.SKYBOX_MODE,o.diffuseColor=new y(0,0,0),o.specularColor=new y(0,0,0),x.material=o;const w=new K("treeManager","./textures/palm.png",2e3,{width:512,height:1024},e);for(let n=0;n<500;n++){const t=new M("tree",w);t.position=new s(Math.random()*-38,.5,Math.random()*20+8)}for(let n=0;n<500;n++){const t=new M("tree",w);t.position=new s(Math.random()*25+7,.5,Math.random()*-35+8)}g.ImportMeshAsync("","./meshes/","valleyvillage.glb").then(()=>{e.getMeshByName("ground").receiveShadows=!0}),window.addEventListener("keydown",n=>{n.shiftKey&&n.ctrlKey&&n.altKey&&n.key==="I"&&(e.debugLayer.isVisible()?e.debugLayer.hide():e.debugLayer.show())}),window.addEventListener("resize",function(){d.resize()}),d.runRenderLoop(()=>{e.render()})}
