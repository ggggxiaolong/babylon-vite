import{E as k,S,A as B,V as a,H as A,q as T,r as v,a as m,i as p,T as g,j as y,M as E,c as I,l as O,d as R,C as M,m as D,n as b}from"./babylon.inspector.bundle.max-42b26fab.js";K();function K(){const r=document.createElement("canvas");r.className="canvas",document.body.appendChild(r);const i=new k(r,!0),e=new S(i),d=new B("camera",Math.PI/2,Math.PI/2.5,150,new a(0,60,0),e);d.upperBetaLimit=Math.PI/2.2,d.attachControl(r,!0);const f=new A("light",new a(1,1,0),e);f.intensity=.5;const u=new T("dir01",new a(0,-1,1),e);u.position=new a(0,1,-2);const L=new v(1024,u),c=[{turn:86,dist:7},{turn:-85,dist:14.8},{turn:-93,dist:16.5},{turn:48,dist:25.5},{turn:-112,dist:30.5},{turn:-72,dist:33.2},{turn:42,dist:37.5},{turn:-98,dist:45.2},{turn:0,dist:47}];m.ImportMeshAsync("him","./meshes/Dude/","Dude.babylon",e).then(n=>{const t=n.meshes[0];t.scaling=new a(.008,.008,.008),L.addShadowCaster(t,!0),t.position=new a(-6,0,0),t.rotate(p.Y,g.ToRadians(-95),y.LOCAL);const C=t.rotationQuaternion?.clone();d.parent=t,e.beginAnimation(n.skeletons[0],0,100,!0);let l=0;const w=.01;let o=0;e.onBeforeRenderObservable.add(()=>{t.movePOV(0,0,w),l+=w,l>c[o].dist&&(t.rotate(p.Y,g.ToRadians(c[o].turn),y.LOCAL),o+=1,o%=c.length,o===0&&(l=0,t.position=a.Zero(),t.rotationQuaternion=C.clone()))})});const x=E.CreateBox("skyBox",{size:150},e),s=new I("skyBoxMat");s.backFaceCulling=!1,s.reflectionTexture=new O("./textures/skyboxCube/skybox",e),s.reflectionTexture.coordinatesMode=R.SKYBOX_MODE,s.diffuseColor=new M(0,0,0),s.specularColor=new M(0,0,0),x.material=s;const h=new D("treeManager","./textures/palm.png",2e3,{width:512,height:1024},e);for(let n=0;n<500;n++){const t=new b("tree",h);t.position=new a(Math.random()*-38,.5,Math.random()*20+8)}for(let n=0;n<500;n++){const t=new b("tree",h);t.position=new a(Math.random()*25+7,.5,Math.random()*-35+8)}m.ImportMeshAsync("","./meshes/","valleyvillage.glb").then(()=>{e.getMeshByName("ground").receiveShadows=!0}),window.addEventListener("keydown",n=>{n.shiftKey&&n.ctrlKey&&n.altKey&&n.key==="I"&&(e.debugLayer.isVisible()?e.debugLayer.hide():e.debugLayer.show())}),window.addEventListener("resize",function(){i.resize()}),i.runRenderLoop(()=>{e.render()})}
