import{E as b,S as x,A as C,V as e,H as I,a as p,g as w,M,c as E,l as O,d as k,C as f,m as g,n as l,e as B}from"./babylon.inspector.bundle.max-c73a9ee3.js";P();function P(){const s=document.createElement("canvas");s.className="canvas",document.body.appendChild(s);const c=new b(s,!0),n=new x(c),o=new C("camera",-Math.PI/2,Math.PI/2.5,15,e.Zero(),n);o.attachControl(o,!0),o.upperBetaLimit=Math.PI/2.2,o.upperRadiusLimit=50,o.lowerRadiusLimit=3,new I("light1",new e(0,1,0),n),p.ImportMeshAsync("","./meshes/","valleyvillage.glb",n),p.ImportMeshAsync("","./meshes/","car.glb",n).then(t=>{t.meshes.forEach(a=>{if(a.name==="car"){a.rotation=new e(Math.PI/2,0,-Math.PI/2),a.position=new e(-3,.1+.125/2,8);const m=new w("carAnimation","position.z",30,w.ANIMATIONTYPE_FLOAT,w.ANIMATIONLOOPMODE_CYCLE),u=[];u.push({frame:0,value:10}),u.push({frame:200,value:-15}),m.setKeys(u),a.animations=[m],n.beginAnimation(a,0,200,!0)}a.name.startsWith("wheel")&&n.beginAnimation(a,0,30,!0)})});const y=M.CreateBox("skyBox",{size:150},n),i=new E("skyBoxMat");i.backFaceCulling=!1,i.reflectionTexture=new O("./textures/skyboxCube/skybox",n),i.reflectionTexture.coordinatesMode=k.SKYBOX_MODE,i.diffuseColor=new f(0,0,0),i.specularColor=new f(0,0,0),y.material=i;const d=new g("treeManager","./textures/palm.png",2e3,{width:512,height:1024},n);for(let t=0;t<500;t++){const a=new l("tree",d);a.position=new e(Math.random()*-38,.5,Math.random()*20+8)}for(let t=0;t<500;t++){const a=new l("tree",d);a.position=new e(Math.random()*25+7,.5,Math.random()*-35+8)}const L=new g("treeManager","./textures/ufo.png",1,{width:128,height:76},n),r=new l("ufo",L);r.playAnimation(0,16,!0,125),r.position=new e(0,5,0),r.width=2,r.height=1;const A=[new e(0,0,0),new e(10,0,0),new e(10,4,0),new e(8,4,0),new e(8,1,0),new e(1,2,0),new e(1,15,0),new e(3,17,0)],h=M.CreateLathe("fountain",{shape:A,sideOrientation:B.DOUBLESIDE},n);h.scaling=new e(.05,.05,.05),h.position=new e(-4,0,-6),window.addEventListener("keydown",t=>{t.shiftKey&&t.ctrlKey&&t.altKey&&t.key==="I"&&(n.debugLayer.isVisible()?n.debugLayer.hide():n.debugLayer.show())}),window.addEventListener("resize",function(){c.resize()}),c.runRenderLoop(()=>{n.render()})}
